<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title> Smart Shower Real-time updates</title>
	<link href="css/examples.css" rel="stylesheet" type="text/css">
	<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../../excanvas.min.js"></script><![endif]-->
	<script language="javascript" type="text/javascript" src="js/jquery.js"></script>
	<script language="javascript" type="text/javascript" src="js/jquery.flot.js"></script>
	<script type="text/javascript">

	$(function() {

		// We use an inline data source in the example, usually data would
		// be fetched from a server

		var data = [],
			totalPoints = 300;
        
        //getting data from a server
        
        function GetData() {
            //set no cache
            $.ajaxSetup({ cache: false });
 
            $.ajax({
            url: "https://09341a78-7eb0-4dd1-adaa-8d2da6082e69:api.orchestrate.io/v0/Shower1?",
            dataType: 'json',
            success: update,  //if success, call update()
            error: function () {
                //if fail, prepare next update
                setTimeout(GetData, updateInterval);
                                }
                    });
                            }
        
		function getRandomData() {

			if (data.length > 0)
				data = data.slice(1);

			// Do a random walk

			while (data.length < totalPoints) {

				var prev = data.length > 0 ? data[data.length - 1] : 50,
					//y = prev + Math.random() * 10 - 5;
                    y = prev + [{"new": true, "total_flow": 0.0, "flow": 0.01, "time": 1449652453}, {"new": true, "total_flow": 0.05, "flow": 0.01, "time": 1449652466}, {"new": true, "total_flow": 0.08, "flow": 0.01, "time": 1449652479}, {"new": true, "total_flow": 0.12, "flow": 0.01, "time": 1449652492}, {"new": true, "total_flow": 0.16, "flow": 0.01, "time": 1449652505}, {"new": true, "total_flow": 0.21, "flow": 0.01, "time": 1449652518}, {"new": true, "total_flow": 0.26, "flow": 0.01, "time": 1449652531}, {"new": true, "total_flow": 0.3, "flow": 0.0, "time": 1449652544}, {"new": true, "total_flow": 0.19, "flow": 0.04, "time": 1449652596}, {"new": true, "total_flow": 0.47, "flow": 0.05, "time": 1449652609}, {"new": true, "total_flow": 0.74, "flow": 0.05, "time": 1449652622}, {"new": true, "total_flow": 0.76, "flow": 0.01, "time": 1449652635}, {"new": true, "total_flow": 0.0, "flow": 0.0, "time": 1449655613}, {"new": true, "total_flow": 0.07, "flow": 0.14, "time": 1449677811}, {"new": true, "total_flow": 0.83, "flow": 0.13, "time": 1449677824}, {"new": true, "total_flow": 1.56, "flow": 0.13, "time": 1449677833}, {"new": true, "total_flow": 2.06, "flow": 0.13, "time": 1449677841}, {"new": true, "total_flow": 2.5, "flow": 0.12, "time": 1449677849}, {"new": true, "total_flow": 2.94, "flow": 0.13, "time": 1449677857}, {"new": true, "total_flow": 3.37, "flow": 0.12, "time": 1449677864}, {"new": true, "total_flow": 3.75, "flow": 0.11, "time": 1449677871}, {"new": true, "total_flow": 4.13, "flow": 0.12, "time": 1449677878}, {"new": true, "total_flow": 4.51, "flow": 0.13, "time": 1449677885}, {"new": true, "total_flow": 4.89, "flow": 0.13, "time": 1449677892}, {"new": true, "total_flow": 5.27, "flow": 0.12, "time": 1449677899}, {"new": true, "total_flow": 5.62, "flow": 0.11, "time": 1449677905}, {"new": true, "total_flow": 5.97, "flow": 0.12, "time": 1449677912}, {"new": true, "total_flow": 6.33, "flow": 0.14, "time": 1449677918}, {"new": true, "total_flow": 6.68, "flow": 0.13, "time": 1449677925}, {"new": true, "total_flow": 7.03, "flow": 0.11, "time": 1449677931}, {"new": true, "total_flow": 7.35, "flow": 0.13, "time": 1449677937}, {"new": true, "total_flow": 7.67, "flow": 0.13, "time": 1449677943}, {"new": true, "total_flow": 8.0, "flow": 0.14, "time": 1449677949}, {"new": true, "total_flow": 8.32, "flow": 0.12, "time": 1449677955}, {"new": true, "total_flow": 8.65, "flow": 0.11, "time": 1449677961}, {"new": true, "total_flow": 8.97, "flow": 0.13, "time": 1449677967}, {"new": true, "total_flow": 9.3, "flow": 0.11, "time": 1449677973}, {"new": true, "total_flow": 9.62, "flow": 0.13, "time": 1449677979}, {"new": true, "total_flow": 9.94, "flow": 0.11, "time": 1449677985}, {"new": true, "total_flow": 10.26, "flow": 0.11, "time": 1449677991}, {"new": true, "total_flow": 10.58, "flow": 0.13, "time": 1449677997}, {"new": true, "total_flow": 10.9, "flow": 0.12, "time": 1449678003}, {"new": true, "total_flow": 11.23, "flow": 0.11, "time": 1449678009}, {"new": true, "total_flow": 11.55, "flow": 0.13, "time": 1449678015}, {"new": true, "total_flow": 11.87, "flow": 0.12, "time": 1449678021}, {"new": true, "total_flow": 12.2, "flow": 0.13, "time": 1449678027}, {"new": true, "total_flow": 12.52, "flow": 0.12, "time": 1449678033}, {"new": true, "total_flow": 12.84, "flow": 0.12, "time": 1449678039}, {"new": true, "total_flow": 13.16, "flow": 0.12, "time": 1449678045}, {"new": true, "total_flow": 13.49, "flow": 0.14, "time": 1449678051}, {"new": true, "total_flow": 13.81, "flow": 0.11, "time": 1449678057}, {"new": true, "total_flow": 14.13, "flow": 0.14, "time": 1449678063}, {"new": true, "total_flow": 14.46, "flow": 0.13, "time": 1449678069}, {"new": true, "total_flow": 14.78, "flow": 0.12, "time": 1449678075}, {"new": true, "total_flow": 15.1, "flow": 0.13, "time": 1449678088}, {"new": true, "total_flow": 15.8, "flow": 0.14, "time": 1449678101}, {"new": true, "total_flow": 16.49, "flow": 0.11, "time": 1449678110}, {"new": true, "total_flow": 16.97, "flow": 0.11, "time": 1449678119}, {"new": true, "total_flow": 17.45, "flow": 0.11, "time": 1449678127}, {"new": true, "total_flow": 17.88, "flow": 0.13, "time": 1449678135}, {"new": true, "total_flow": 18.31, "flow": 0.13, "time": 1449678142}, {"new": true, "total_flow": 18.68, "flow": 0.12, "time": 1449678149}, {"new": true, "total_flow": 19.06, "flow": 0.13, "time": 1449678156}, {"new": true, "total_flow": 19.43, "flow": 0.11, "time": 1449678163}, {"new": true, "total_flow": 19.81, "flow": 0.14, "time": 1449678170}, {"new": true, "total_flow": 20.18, "flow": 0.11, "time": 1449678176}, {"new": true, "total_flow": 20.53, "flow": 0.12, "time": 1449678183}, {"new": true, "total_flow": 20.87, "flow": 0.13, "time": 1449678189}, {"new": true, "total_flow": 21.22, "flow": 0.11, "time": 1449678196}, {"new": true, "total_flow": 21.56, "flow": 0.11, "time": 1449678202}, {"new": true, "total_flow": 21.91, "flow": 0.13, "time": 1449678209}, {"new": true, "total_flow": 22.25, "flow": 0.12, "time": 1449678215}, {"new": true, "total_flow": 22.57, "flow": 0.11, "time": 1449678221}, {"new": true, "total_flow": 22.88, "flow": 0.11, "time": 1449678227}, {"new": true, "total_flow": 23.2, "flow": 0.11, "time": 1449678233}, {"new": true, "total_flow": 23.52, "flow": 0.13, "time": 1449678239}, {"new": true, "total_flow": 23.83, "flow": 0.11, "time": 1449678245}, {"new": true, "total_flow": 24.15, "flow": 0.12, "time": 1449678251}, {"new": true, "total_flow": 24.47, "flow": 0.12, "time": 1449678257}, {"new": true, "total_flow": 24.79, "flow": 0.11, "time": 1449678263}, {"new": true, "total_flow": 25.11, "flow": 0.12, "time": 1449678269}, {"new": true, "total_flow": 25.43, "flow": 0.12, "time": 1449678275}, {"new": true, "total_flow": 25.75, "flow": 0.13, "time": 1449678281}, {"new": true, "total_flow": 26.07, "flow": 0.11, "time": 1449678287}, {"new": true, "total_flow": 26.39, "flow": 0.13, "time": 1449678293}, {"new": true, "total_flow": 26.7, "flow": 0.12, "time": 1449678299}, {"new": true, "total_flow": 27.02, "flow": 0.12, "time": 1449678305}, {"new": true, "total_flow": 27.34, "flow": 0.13, "time": 1449678311}, {"new": true, "total_flow": 27.66, "flow": 0.13, "time": 1449678317}, {"new": true, "total_flow": 27.97, "flow": 0.11, "time": 1449678323}, {"new": true, "total_flow": 28.29, "flow": 0.14, "time": 1449678329}, {"new": true, "total_flow": 28.61, "flow": 0.13, "time": 1449678335}, {"new": true, "total_flow": 28.93, "flow": 0.12, "time": 1449678341}, {"new": true, "total_flow": 29.24, "flow": 0.12, "time": 1449678347}, {"new": true, "total_flow": 29.31, "flow": 0.01, "time": 1449678353}, {"new": true, "total_flow": 0.35, "flow": 0.1, "time": 1449678379}, {"new": true, "total_flow": 1.01, "flow": 0.13, "time": 1449678388}, {"new": true, "total_flow": 1.5, "flow": 0.11, "time": 1449678397}, {"new": true, "total_flow": 1.99, "flow": 0.13, "time": 1449678406}, {"new": true, "total_flow": 2.17, "flow": 0.01, "time": 1449678414}, {"new": true, "total_flow": 0.02, "flow": 0.05, "time": 1449680533}, {"new": true, "total_flow": 0.43, "flow": 0.07, "time": 1449680546}, {"new": true, "total_flow": 1.01, "flow": 0.13, "time": 1449680555}, {"new": true, "total_flow": 1.51, "flow": 0.13, "time": 1449680564}, {"new": true, "total_flow": 2.01, "flow": 0.13, "time": 1449680572}, {"new": true, "total_flow": 2.44, "flow": 0.12, "time": 1449680580}, {"new": true, "total_flow": 2.88, "flow": 0.14, "time": 1449680588}, {"new": true, "total_flow": 3.31, "flow": 0.12, "time": 1449680595}, {"new": true, "total_flow": 3.69, "flow": 0.13, "time": 1449680602}, {"new": true, "total_flow": 4.07, "flow": 0.12, "time": 1449680609}, {"new": true, "total_flow": 4.45, "flow": 0.13, "time": 1449680616}, {"new": true, "total_flow": 4.84, "flow": 0.12, "time": 1449680623}, {"new": true, "total_flow": 5.21, "flow": 0.13, "time": 1449680630}, {"new": true, "total_flow": 5.56, "flow": 0.12, "time": 1449680636}, {"new": true, "total_flow": 5.91, "flow": 0.12, "time": 1449680643}, {"new": true, "total_flow": 6.27, "flow": 0.13, "time": 1449680649}, {"new": true, "total_flow": 6.62, "flow": 0.13, "time": 1449680656}, {"new": true, "total_flow": 6.97, "flow": 0.12, "time": 1449680662}, {"new": true, "total_flow": 7.33, "flow": 0.13, "time": 1449680668}, {"new": true, "total_flow": 7.65, "flow": 0.11, "time": 1449680674}, {"new": true, "total_flow": 7.98, "flow": 0.12, "time": 1449680680}, {"new": true, "total_flow": 8.3, "flow": 0.13, "time": 1449680686}, {"new": true, "total_flow": 8.63, "flow": 0.13, "time": 1449680692}, {"new": true, "total_flow": 8.95, "flow": 0.12, "time": 1449680698}, {"new": true, "total_flow": 9.28, "flow": 0.12, "time": 1449680704}, {"new": true, "total_flow": 9.6, "flow": 0.11, "time": 1449680710}, {"new": true, "total_flow": 9.93, "flow": 0.12, "time": 1449680716}, {"new": true, "total_flow": 10.25, "flow": 0.11, "time": 1449680723}, {"new": true, "total_flow": 10.58, "flow": 0.12, "time": 1449680729}, {"new": true, "total_flow": 10.9, "flow": 0.12, "time": 1449680735}, {"new": true, "total_flow": 11.23, "flow": 0.13, "time": 1449680741}, {"new": true, "total_flow": 11.55, "flow": 0.12, "time": 1449680747}, {"new": true, "total_flow": 11.88, "flow": 0.13, "time": 1449680753}, {"new": true, "total_flow": 12.2, "flow": 0.13, "time": 1449680759}, {"new": true, "total_flow": 12.52, "flow": 0.12, "time": 1449680765}, {"new": true, "total_flow": 12.85, "flow": 0.12, "time": 1449680771}, {"new": true, "total_flow": 13.17, "flow": 0.13, "time": 1449680777}, {"new": true, "total_flow": 13.49, "flow": 0.13, "time": 1449680783}, {"new": true, "total_flow": 13.82, "flow": 0.13, "time": 1449680789}, {"new": true, "total_flow": 14.14, "flow": 0.13, "time": 1449680795}, {"new": true, "total_flow": 14.47, "flow": 0.11, "time": 1449680801}, {"new": true, "total_flow": 14.8, "flow": 0.12, "time": 1449680807}, {"new": true, "total_flow": 15.12, "flow": 0.13, "time": 1449680820}, {"new": true, "total_flow": 15.83, "flow": 0.12, "time": 1449680833}, {"new": true, "total_flow": 16.54, "flow": 0.12, "time": 1449680842}, {"new": true, "total_flow": 17.03, "flow": 0.13, "time": 1449680850}, {"new": true, "total_flow": 17.47, "flow": 0.12, "time": 1449680858}, {"new": true, "total_flow": 17.91, "flow": 0.12, "time": 1449680866}, {"new": true, "total_flow": 18.34, "flow": 0.12, "time": 1449680873}, {"new": true, "total_flow": 18.72, "flow": 0.13, "time": 1449680880}, {"new": true, "total_flow": 19.11, "flow": 0.12, "time": 1449680887}, {"new": true, "total_flow": 19.49, "flow": 0.12, "time": 1449680894}, {"new": true, "total_flow": 19.87, "flow": 0.11, "time": 1449680901}, {"new": true, "total_flow": 20.24, "flow": 0.13, "time": 1449680907}, {"new": true, "total_flow": 20.59, "flow": 0.11, "time": 1449680914}, {"new": true, "total_flow": 20.94, "flow": 0.12, "time": 1449680920}, {"new": true, "total_flow": 21.29, "flow": 0.11, "time": 1449680927}, {"new": true, "total_flow": 21.64, "flow": 0.13, "time": 1449680933}, {"new": true, "total_flow": 21.99, "flow": 0.12, "time": 1449680940}, {"new": true, "total_flow": 22.34, "flow": 0.11, "time": 1449680946}, {"new": true, "total_flow": 22.66, "flow": 0.13, "time": 1449680952}, {"new": true, "total_flow": 22.99, "flow": 0.13, "time": 1449680958}, {"new": true, "total_flow": 23.31, "flow": 0.11, "time": 1449680964}, {"new": true, "total_flow": 23.63, "flow": 0.13, "time": 1449680970}, {"new": true, "total_flow": 23.95, "flow": 0.12, "time": 1449680976}, {"new": true, "total_flow": 24.27, "flow": 0.12, "time": 1449680982}, {"new": true, "total_flow": 24.59, "flow": 0.11, "time": 1449680988}, {"new": true, "total_flow": 24.91, "flow": 0.11, "time": 1449680994}, {"new": true, "total_flow": 25.24, "flow": 0.12, "time": 1449681000}, {"new": true, "total_flow": 25.57, "flow": 0.12, "time": 1449681006}, {"new": true, "total_flow": 25.9, "flow": 0.13, "time": 1449681012}, {"new": true, "total_flow": 26.23, "flow": 0.12, "time": 1449681018}, {"new": true, "total_flow": 26.55, "flow": 0.13, "time": 1449681024}, {"new": true, "total_flow": 26.87, "flow": 0.11, "time": 1449681030}, {"new": true, "total_flow": 27.19, "flow": 0.12, "time": 1449681036}, {"new": true, "total_flow": 27.51, "flow": 0.12, "time": 1449681042}, {"new": true, "total_flow": 27.83, "flow": 0.13, "time": 1449681048}, {"new": true, "total_flow": 28.14, "flow": 0.13, "time": 1449681054}, {"new": true, "total_flow": 28.46, "flow": 0.12, "time": 1449681060}, {"new": true, "total_flow": 28.77, "flow": 0.11, "time": 1449681066}, {"new": true, "total_flow": 29.08, "flow": 0.11, "time": 1449681072}, {"new": true, "total_flow": 29.39, "flow": 0.11, "time": 1449681078}, {"new": true, "total_flow": 29.71, "flow": 0.12, "time": 1449681084}, {"new": true, "total_flow": 30.03, "flow": 0.13, "time": 1449681097}, {"new": true, "total_flow": 30.71, "flow": 0.14, "time": 1449681110}, {"new": true, "total_flow": 31.4, "flow": 0.12, "time": 1449681119}, {"new": true, "total_flow": 31.88, "flow": 0.11, "time": 1449681128}, {"new": true, "total_flow": 32.34, "flow": 0.12, "time": 1449681136}, {"new": true, "total_flow": 32.76, "flow": 0.13, "time": 1449681144}, {"new": true, "total_flow": 33.18, "flow": 0.12, "time": 1449681151}, {"new": true, "total_flow": 33.54, "flow": 0.12, "time": 1449681158}, {"new": true, "total_flow": 33.91, "flow": 0.12, "time": 1449681165}, {"new": true, "total_flow": 34.28, "flow": 0.11, "time": 1449681172}, {"new": true, "total_flow": 34.65, "flow": 0.11, "time": 1449681179}, {"new": true, "total_flow": 35.02, "flow": 0.13, "time": 1449681185}, {"new": true, "total_flow": 35.36, "flow": 0.12, "time": 1449681192}, {"new": true, "total_flow": 35.7, "flow": 0.12, "time": 1449681198}, {"new": true, "total_flow": 36.04, "flow": 0.12, "time": 1449681205}, {"new": true, "total_flow": 36.39, "flow": 0.13, "time": 1449681211}, {"new": true, "total_flow": 36.74, "flow": 0.13, "time": 1449681218}, {"new": true, "total_flow": 37.1, "flow": 0.11, "time": 1449681224}, {"new": true, "total_flow": 37.42, "flow": 0.13, "time": 1449681230}, {"new": true, "total_flow": 37.75, "flow": 0.13, "time": 1449681236}, {"new": true, "total_flow": 38.08, "flow": 0.11, "time": 1449681242}, {"new": true, "total_flow": 38.4, "flow": 0.13, "time": 1449681248}, {"new": true, "total_flow": 38.72, "flow": 0.13, "time": 1449681254}, {"new": true, "total_flow": 39.05, "flow": 0.14, "time": 1449681260}, {"new": true, "total_flow": 39.37, "flow": 0.12, "time": 1449681266}, {"new": true, "total_flow": 39.69, "flow": 0.12, "time": 1449681272}, {"new": true, "total_flow": 40.01, "flow": 0.12, "time": 1449681278}, {"new": true, "total_flow": 40.33, "flow": 0.14, "time": 1449681284}, {"new": true, "total_flow": 40.66, "flow": 0.12, "time": 1449681290}, {"new": true, "total_flow": 40.98, "flow": 0.11, "time": 1449681296}, {"new": true, "total_flow": 41.3, "flow": 0.13, "time": 1449681302}, {"new": true, "total_flow": 41.63, "flow": 0.11, "time": 1449681308}, {"new": true, "total_flow": 41.95, "flow": 0.13, "time": 1449681314}, {"new": true, "total_flow": 42.28, "flow": 0.12, "time": 1449681320}, {"new": true, "total_flow": 42.6, "flow": 0.13, "time": 1449681326}, {"new": true, "total_flow": 42.93, "flow": 0.12, "time": 1449681332}, {"new": true, "total_flow": 43.26, "flow": 0.11, "time": 1449681338}, {"new": true, "total_flow": 43.59, "flow": 0.12, "time": 1449681344}, {"new": true, "total_flow": 43.91, "flow": 0.13, "time": 1449681350}, {"new": true, "total_flow": 44.24, "flow": 0.11, "time": 1449681356}, {"new": true, "total_flow": 44.57, "flow": 0.12, "time": 1449681362}, {"new": true, "total_flow": 44.89, "flow": 0.14, "time": 1449681368}, {"new": true, "total_flow": 45.21, "flow": 0.11, "time": 1449681381}, {"new": true, "total_flow": 45.91, "flow": 0.12, "time": 1449681394}, {"new": true, "total_flow": 46.61, "flow": 0.13, "time": 1449681403}, {"new": true, "total_flow": 47.1, "flow": 0.12, "time": 1449681411}, {"new": true, "total_flow": 47.53, "flow": 0.12, "time": 1449681419}, {"new": true, "total_flow": 47.96, "flow": 0.13, "time": 1449681427}, {"new": true, "total_flow": 48.39, "flow": 0.13, "time": 1449681434}, {"new": true, "total_flow": 48.77, "flow": 0.14, "time": 1449681441}, {"new": true, "total_flow": 49.14, "flow": 0.14, "time": 1449681448}, {"new": true, "total_flow": 49.51, "flow": 0.13, "time": 1449681455}, {"new": true, "total_flow": 49.89, "flow": 0.13, "time": 1449681462}, {"new": true, "total_flow": 50.26, "flow": 0.13, "time": 1449681468}, {"new": true, "total_flow": 50.61, "flow": 0.13, "time": 1449681475}, {"new": true, "total_flow": 50.96, "flow": 0.12, "time": 1449681481}, {"new": true, "total_flow": 51.31, "flow": 0.12, "time": 1449681488}, {"new": true, "total_flow": 51.66, "flow": 0.11, "time": 1449681494}, {"new": true, "total_flow": 52.0, "flow": 0.11, "time": 1449681500}, {"new": true, "total_flow": 52.32, "flow": 0.13, "time": 1449681506}, {"new": true, "total_flow": 52.65, "flow": 0.12, "time": 1449681512}, {"new": true, "total_flow": 52.97, "flow": 0.11, "time": 1449681518}, {"new": true, "total_flow": 53.29, "flow": 0.14, "time": 1449681524}, {"new": true, "total_flow": 53.61, "flow": 0.11, "time": 1449681530}, {"new": true, "total_flow": 53.93, "flow": 0.11, "time": 1449681536}, {"new": true, "total_flow": 54.25, "flow": 0.11, "time": 1449681542}, {"new": true, "total_flow": 54.58, "flow": 0.13, "time": 1449681548}, {"new": true, "total_flow": 54.9, "flow": 0.13, "time": 1449681554}, {"new": true, "total_flow": 55.22, "flow": 0.12, "time": 1449681560}, {"new": true, "total_flow": 55.54, "flow": 0.12, "time": 1449681566}, {"new": true, "total_flow": 55.86, "flow": 0.11, "time": 1449681572}, {"new": true, "total_flow": 56.17, "flow": 0.11, "time": 1449681578}, {"new": true, "total_flow": 56.49, "flow": 0.12, "time": 1449681584}, {"new": true, "total_flow": 56.82, "flow": 0.13, "time": 1449681590}, {"new": true, "total_flow": 57.14, "flow": 0.12, "time": 1449681596}, {"new": true, "total_flow": 57.46, "flow": 0.13, "time": 1449681602}, {"new": true, "total_flow": 57.78, "flow": 0.11, "time": 1449681608}, {"new": true, "total_flow": 58.1, "flow": 0.12, "time": 1449681614}, {"new": true, "total_flow": 58.42, "flow": 0.12, "time": 1449681620}, {"new": true, "total_flow": 58.74, "flow": 0.12, "time": 1449681626}, {"new": true, "total_flow": 59.07, "flow": 0.13, "time": 1449681632}, {"new": true, "total_flow": 59.39, "flow": 0.12, "time": 1449681638}, {"new": true, "total_flow": 59.72, "flow": 0.12, "time": 1449681644}, {"new": true, "total_flow": 60.04, "flow": 0.12, "time": 1449681650}, {"new": true, "total_flow": 60.37, "flow": 0.13, "time": 1449681656}, {"new": true, "total_flow": 60.69, "flow": 0.11, "time": 1449681662}, {"new": true, "total_flow": 61.01, "flow": 0.12, "time": 1449681668}, {"new": true, "total_flow": 61.34, "flow": 0.11, "time": 1449681674}, {"new": true, "total_flow": 61.66, "flow": 0.13, "time": 1449681680}, {"new": true, "total_flow": 61.99, "flow": 0.14, "time": 1449681686}, {"new": true, "total_flow": 62.31, "flow": 0.11, "time": 1449681692}, {"new": true, "total_flow": 62.64, "flow": 0.12, "time": 1449681698}, {"new": true, "total_flow": 62.96, "flow": 0.11, "time": 1449681704}, {"new": true, "total_flow": 63.29, "flow": 0.11, "time": 1449681710}, {"new": true, "total_flow": 63.5, "flow": 0.0, "time": 1449681716}, {"new": true, "total_flow": 0.39, "flow": 0.12, "time": 1449681977}, {"new": true, "total_flow": 1.1, "flow": 0.12, "time": 1449681986}, {"new": true, "total_flow": 1.59, "flow": 0.12, "time": 1449681995}, {"new": true, "total_flow": 2.09, "flow": 0.12, "time": 1449682003}, {"new": true, "total_flow": 2.52, "flow": 0.12, "time": 1449682011}, {"new": true, "total_flow": 2.96, "flow": 0.12, "time": 1449682019}, {"new": true, "total_flow": 3.39, "flow": 0.12, "time": 1449682026}, {"new": true, "total_flow": 3.78, "flow": 0.12, "time": 1449682033}, {"new": true, "total_flow": 4.15, "flow": 0.13, "time": 1449682040}, {"new": true, "total_flow": 4.53, "flow": 0.13, "time": 1449682047}, {"new": true, "total_flow": 4.91, "flow": 0.13, "time": 1449682054}, {"new": true, "total_flow": 5.28, "flow": 0.14, "time": 1449682060}, {"new": true, "total_flow": 5.63, "flow": 0.12, "time": 1449682067}, {"new": true, "total_flow": 5.98, "flow": 0.12, "time": 1449682073}, {"new": true, "total_flow": 6.32, "flow": 0.11, "time": 1449682080}, {"new": true, "total_flow": 6.67, "flow": 0.13, "time": 1449682086}, {"new": true, "total_flow": 7.02, "flow": 0.13, "time": 1449682092}, {"new": true, "total_flow": 7.34, "flow": 0.13, "time": 1449682098}, {"new": true, "total_flow": 7.65, "flow": 0.12, "time": 1449682104}, {"new": true, "total_flow": 7.97, "flow": 0.11, "time": 1449682110}, {"new": true, "total_flow": 8.29, "flow": 0.12, "time": 1449682116}, {"new": true, "total_flow": 8.6, "flow": 0.11, "time": 1449682122}, {"new": true, "total_flow": 8.92, "flow": 0.12, "time": 1449682128}, {"new": true, "total_flow": 9.23, "flow": 0.14, "time": 1449682134}, {"new": true, "total_flow": 9.55, "flow": 0.12, "time": 1449682140}, {"new": true, "total_flow": 9.87, "flow": 0.11, "time": 1449682146}, {"new": true, "total_flow": 10.18, "flow": 0.11, "time": 1449682152}, {"new": true, "total_flow": 10.5, "flow": 0.14, "time": 1449682158}, {"new": true, "total_flow": 10.82, "flow": 0.11, "time": 1449682164}, {"new": true, "total_flow": 11.14, "flow": 0.12, "time": 1449682170}, {"new": true, "total_flow": 11.46, "flow": 0.12, "time": 1449682176}, {"new": true, "total_flow": 11.77, "flow": 0.13, "time": 1449682182}, {"new": true, "total_flow": 12.09, "flow": 0.11, "time": 1449682188}, {"new": true, "total_flow": 12.41, "flow": 0.13, "time": 1449682194}, {"new": true, "total_flow": 12.72, "flow": 0.12, "time": 1449682200}, {"new": true, "total_flow": 13.03, "flow": 0.13, "time": 1449682206}, {"new": true, "total_flow": 13.34, "flow": 0.11, "time": 1449682212}, {"new": true, "total_flow": 13.66, "flow": 0.12, "time": 1449682218}, {"new": true, "total_flow": 13.97, "flow": 0.12, "time": 1449682224}, {"new": true, "total_flow": 14.29, "flow": 0.13, "time": 1449682230}, {"new": true, "total_flow": 14.6, "flow": 0.12, "time": 1449682236}, {"new": true, "total_flow": 14.92, "flow": 0.12, "time": 1449682242}, {"new": true, "total_flow": 15.23, "flow": 0.13, "time": 1449682255}, {"new": true, "total_flow": 15.92, "flow": 0.12, "time": 1449682268}, {"new": true, "total_flow": 16.6, "flow": 0.11, "time": 1449682277}, {"new": true, "total_flow": 17.07, "flow": 0.12, "time": 1449682285}, {"new": true, "total_flow": 17.5, "flow": 0.11, "time": 1449682293}, {"new": true, "total_flow": 17.92, "flow": 0.12, "time": 1449682301}, {"new": true, "total_flow": 18.34, "flow": 0.12, "time": 1449682308}, {"new": true, "total_flow": 18.71, "flow": 0.12, "time": 1449682315}, {"new": true, "total_flow": 19.08, "flow": 0.13, "time": 1449682322}, {"new": true, "total_flow": 19.44, "flow": 0.13, "time": 1449682329}, {"new": true, "total_flow": 19.81, "flow": 0.12, "time": 1449682336}, {"new": true, "total_flow": 20.18, "flow": 0.11, "time": 1449682343}, {"new": true, "total_flow": 20.52, "flow": 0.11, "time": 1449682349}, {"new": true, "total_flow": 20.86, "flow": 0.12, "time": 1449682356}, {"new": true, "total_flow": 21.2, "flow": 0.11, "time": 1449682362}, {"new": true, "total_flow": 21.54, "flow": 0.11, "time": 1449682369}, {"new": true, "total_flow": 21.88, "flow": 0.13, "time": 1449682375}, {"new": true, "total_flow": 22.22, "flow": 0.13, "time": 1449682381}, {"new": true, "total_flow": 22.54, "flow": 0.11, "time": 1449682387}, {"new": true, "total_flow": 22.85, "flow": 0.13, "time": 1449682393}, {"new": true, "total_flow": 23.17, "flow": 0.11, "time": 1449682399}, {"new": true, "total_flow": 23.48, "flow": 0.11, "time": 1449682405}, {"new": true, "total_flow": 23.79, "flow": 0.11, "time": 1449682411}, {"new": true, "total_flow": 24.11, "flow": 0.11, "time": 1449682417}, {"new": true, "total_flow": 24.42, "flow": 0.12, "time": 1449682423}, {"new": true, "total_flow": 24.73, "flow": 0.11, "time": 1449682429}, {"new": true, "total_flow": 25.04, "flow": 0.11, "time": 1449682435}, {"new": true, "total_flow": 25.36, "flow": 0.12, "time": 1449682441}, {"new": true, "total_flow": 25.67, "flow": 0.12, "time": 1449682447}, {"new": true, "total_flow": 25.99, "flow": 0.12, "time": 1449682453}, {"new": true, "total_flow": 26.31, "flow": 0.12, "time": 1449682459}, {"new": true, "total_flow": 26.63, "flow": 0.11, "time": 1449682465}, {"new": true, "total_flow": 26.95, "flow": 0.11, "time": 1449682471}, {"new": true, "total_flow": 27.26, "flow": 0.13, "time": 1449682477}, {"new": true, "total_flow": 27.58, "flow": 0.12, "time": 1449682483}, {"new": true, "total_flow": 27.89, "flow": 0.12, "time": 1449682489}, {"new": true, "total_flow": 28.2, "flow": 0.13, "time": 1449682495}, {"new": true, "total_flow": 28.51, "flow": 0.11, "time": 1449682501}, {"new": true, "total_flow": 28.82, "flow": 0.11, "time": 1449682507}, {"new": true, "total_flow": 29.14, "flow": 0.11, "time": 1449682513}, {"new": true, "total_flow": 29.45, "flow": 0.13, "time": 1449682519}, {"new": true, "total_flow": 29.77, "flow": 0.11, "time": 1449682525}, {"new": true, "total_flow": 30.08, "flow": 0.12, "time": 1449682538}, {"new": true, "total_flow": 30.25, "flow": 0.0, "time": 1449682551}];

				if (y < 0) {
					y = 0;
				} else if (y > 100) {
					y = 100;
				}

				data.push(y);
			}

			// Zip the generated y values with the x values

			var res = [];
			for (var i = 0; i < data.length; ++i) {
				res.push([i, data[i]])
			}

			return res;
		}

		// Set up the control widget

		var updateInterval = 30;
		$("#updateInterval").val(updateInterval).change(function () {
			var v = $(this).val();
			if (v && !isNaN(+v)) {
				updateInterval = +v;
				if (updateInterval < 1) {
					updateInterval = 1;
				} else if (updateInterval > 2000) {
					updateInterval = 2000;
				}
				$(this).val("" + updateInterval);
			}
		});

		var plot = $.plot("#placeholder", [ getRandomData() ], {
			series: {
				shadowSize: 0	// Drawing is faster without shadows
			},
			yaxis: {
				min: 0,
				max: 100
			},
			xaxis: {
				show: false
			}
		});

		function update() {

			plot.setData([getRandomData()]);

			// Since the axes don't change, we don't need to call plot.setupGrid()

			plot.draw();
			setTimeout(update, updateInterval);
		}

		update();

		// Add the Flot version string to the footer

		$("#footer").prepend("Flot " + $.plot.version + " &ndash; ");
	});

        
	</script>
</head>
<body>

	<div id="header">
		<h2>Real-time updates</h2>
	</div>

	<div id="content">

		<div class="demo-container">
			<div id="placeholder" class="demo-placeholder"></div>
		</div>

		<p>You can update a chart periodically to get a real-time effect by using a timer to insert the new data in the plot and redraw it.</p>

		<p>Time between updates: <input id="updateInterval" type="text" value="" style="text-align: right; width:5em"> milliseconds</p>

	</div>

	<div id="footer">
		Copyright &copy; 2007 - 2014 IOLA and Ole Laursen
	</div>

</body>
</html>
